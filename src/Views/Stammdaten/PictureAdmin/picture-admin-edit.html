<template>
    <section class="au-animate">
        <!-- Überschrift ausgeben -->
        <div class="block-header">
            <h2 t="Edit.Header" t-params.bind="locConfig"></h2>
        </div>

        <!-- Card ausgeben -->
        <div class="card">
            <!-- Card Header-->
            <div class="card-header">
                <h2>
                    ${ 'Edit.Card.Header.Text' | t: { ns: 'StammPictureAdmin', 'album': fatherItem.NameGerman, context: editMode } }
                    <small>${ 'Edit.Card.Header.Description' | t: { ns: 'StammPictureAdmin', context: editMode } }</small>
                </h2>
            </div>

            <!-- Card Body -->
            <div class="card-body card-padding">
                <!-- Validation-Summary ausgeben -->
                <div class.bind="hasValidationErrors == true ? 'alert alert-danger' : 'alert alert-danger collapse'">
                    <p repeat.for="validationError of validationErrors">${validationError.errorMessage}</p>
                </div>

                <!-- Das Formular ausgeben -->
                <form class="card-form" submit.trigger="saveChanges()">
                    <!-- Den Bereich für das Photo ausgeben -->
                    <small t="Edit.Card.Body.Form.Labels.Photo" t-params.bind="locConfig"></small>
                    <div style="margin-top:10px;">
                        <img class="picture-item-picture" height="230" width="300" src.bind="currentPhotoURL" click.trigger="showPicture()"/>
                        <div>
                            <button id="choosePicture"
                                    click.trigger="choosePicture()"
                                    disabled.bind="!isChoosePictureEnabled"
                                    type="button"
                                    bootstrap-tooltip
                                    button-waves
                                    class="btn btn-default waves-effect"
                                    data-toggle="tooltip"
                                    title=""
                                    data-original-title=""
                                    data-trigger="hover"
                                    t="[data-original-title]Edit.Card.Body.Form.Tooltips.ChoosePicture;[append]Edit.Card.Body.Form.Buttons.ChoosePicture"
                                    t-params.bind="locConfig">
                            </button>
                            <button id="editPictureParams"
                                    click.trigger="changeImageParameter()"
                                    disabled.bind="!isChangeImageParameterEnabled"
                                    type="button"
                                    bootstrap-tooltip
                                    button-waves
                                    class="btn btn-default waves-effect"
                                    data-toggle="tooltip"
                                    title=""
                                    data-original-title=""
                                    data-trigger="hover"
                                    t="[data-original-title]Edit.Card.Body.Form.Tooltips.ImageParameter;[append]Edit.Card.Body.Form.Buttons.ImageParameter"
                                    t-params.bind="locConfig">
                            </button>
                        </div>
                    </div>

                    <!-- Die Checkbox für Family ausgeben -->
                    <div style="margin-top:25px;">
                        <small t="Edit.Card.Body.Form.Labels.FamilyType" t-params.bind="locConfig"></small>
                        <div style="margin-top:10px;">
                            <label class="checkbox checkbox-inline m-r-20">
                                <input id="chb_Only_Family" type="checkbox" name="OnlyFamily" checked.bind="itemToEdit.OnlyFamily">
                                <i class="input-helper"></i>
                                ${ 'Edit.Card.Body.Form.Checkboxes.OnlyFamily' | t: { ns: 'StammPictureAdmin'} }
                            </label>
                        </div>
                    </div>

                    <!-- Die Attribute zuweisen -->
                    <div style="margin-top:25px;">
                        <small t="Edit.Card.Body.Form.Labels.Category" t-params.bind="locConfig"></small>
                        <div class="row">
                            <div class="col-sm-6" style="margin-top:10px;">
                                <select-picker-multiple id.bind="idCategorySelect" 
                                               items.bind="categoryList" 
                                               title.bind="titleSelectPickerCategoryList"
                                               is-busy.bind="isBusy">
                                </select-picker-multiple>
                            </div>
                        </div>
                    </div>

                    <!-- Buttons ausgeben -->
                    <div style="margin-top:20px;">
                        <button id="btnSubmit"
                                type="submit"
                                bootstrap-tooltip
                                button-waves
                                class="btn btn-primary btn-icon-text waves-effect"
                                disabled.bind="!isSavingEnabled"
                                data-toggle="tooltip"
                                title=""
                                data-original-title=""
                                data-trigger="hover"
                                t="[data-original-title]Edit.Card.Body.Form.Tooltips.Submit;[append]General.Buttons.Save"
                                t-params.bind="locConfig">
                            <i class="zmdi zmdi-floppy"></i>
                        </button>
                        <button id="btnCancel"
                                type="button"
                                bootstrap-tooltip
                                button-waves
                                class="btn btn-danger btn-icon-text waves-effect"
                                disabled.bind="isBusy"
                                click.trigger="cancelChanges()"
                                style="margin-left: 10px;"
                                data-toggle="tooltip"
                                title=""
                                data-original-title=""
                                data-trigger="hover"
                                t="[data-original-title]Edit.Card.Body.Form.Tooltips.Cancel;[append]General.Buttons.Cancel"
                                t-params.bind="locConfig">
                            <i class="zmdi zmdi-close"></i>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </section>
</template>
