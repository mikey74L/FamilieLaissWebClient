<template>
    <require from="../../../Converter/number-to-string"></require>

    <section class="au-animate">
        <!-- Überschrift ausgeben -->
        <div class="block-header">
            <h2 t="Edit.Header" t-params.bind="locConfig"></h2>
        </div>

        <!-- Card ausgeben -->
        <div class="card">
            <!-- Card Header-->
            <div class="card-header">
                <h2>
                    ${ 'Edit.Card.Header.Text' | t: { ns: 'StammCategoryValue', 'category': fatherItem.NameGerman, context: editMode } }
                    <small>${ 'Edit.Card.Header.Description' | t: { ns: 'StammCategoryValue', context: editMode } }</small>
                </h2>
            </div>

            <!-- Card Body -->
            <div class="card-body card-padding">
                <!-- Validation-Summary ausgeben -->
                <div class.bind="hasValidationErrors == true ? 'alert alert-danger' : 'alert alert-danger collapse'">
                    <p repeat.for="validationError of validationErrors">${validationError.errorMessage}</p>
                </div>

                <!-- Das Formular ausgeben -->
                <form class="card-form" submit.trigger="saveChanges()">
                    <!-- Input für Name_German -->
                    <input-text is-busy.bind="isBusy"
                                entity.bind="itemToEdit"
                                entity-property.bind="itemToEdit.entityType.getDataProperty('NameGerman')"
                                value.two-way="itemToEdit.NameGerman"></input-text>

                    <!-- Line Break muss ausgeführt werden, da sonst die Eingabefelder
                         zu dicht aufeinander hängen und der Floating-Effect für die
                         Labels nicht richtig funktioniert
                    -->
                    <br />

                    <!-- Input für Name_English -->
                    <input-text is-busy.bind="isBusy"
                                entity.bind="itemToEdit"
                                entity-property.bind="itemToEdit.entityType.getDataProperty('NameEnglish')"
                                value.two-way="itemToEdit.NameEnglish"></input-text>

                    <!-- Buttons ausgeben -->
                    <button id="btnSubmit"
                            type="submit"
                            bootstrap-tooltip
                            button-waves
                            class="btn btn-primary btn-icon-text waves-effect"
                            disabled.bind="!isSavingEnabled"
                            data-toggle="tooltip"
                            title=""
                            data-original-title=""
                            data-trigger="hover"
                            t="[data-original-title]Edit.Card.Body.Form.Tooltips.Submit;[append]General.Buttons.Save"
                            t-params.bind="locConfig">
                        <i class="zmdi zmdi-floppy"></i>
                    </button>
                    <button id="btnCancel"
                            type="button"
                            bootstrap-tooltip
                            button-waves
                            class="btn btn-danger btn-icon-text waves-effect"
                            disabled.bind="isBusy"
                            click.trigger="cancelChanges()"
                            style="margin-left: 10px;"
                            data-toggle="tooltip"
                            title=""
                            data-original-title=""
                            data-trigger="hover"
                            t="[data-original-title]Edit.Card.Body.Form.Tooltips.Cancel;[append]General.Buttons.Cancel"
                            t-params.bind="locConfig">
                        <i class="zmdi zmdi-close"></i>
                    </button>
                </form>
            </div>
        </div>
    </section>
</template>
